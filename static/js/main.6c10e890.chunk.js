(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(22)},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),o=n.n(i),c=n(6),l=n(7),u=n(9),s=n(8),m=n(10),p=n(2),f=n(3),h=n.n(f),v=n(1),y=n.n(v);var b=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e};function g(e,t){return e(t={exports:{}},t.exports),t.exports}var C=g(function(e){function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"===typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n});var w=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var k=function(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?w(e):t},x=g(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}),S=g(function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t});var O=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)};var V=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function _(e,t){if(!t)return-1;for(var n=0,r=0;r<e.length;r++)n+=e[r];for(var a=function(e){for(var t=0,n=0;n<e.length;n++)t+=e.charCodeAt(n)*Math.pow(10,n);var r=1e4*Math.sin(t);return r-Math.floor(r)}(t)*n,i=0;i<e.length;i++){if(a<e[i])return i;a-=e[i]}return-1}function j(e){if(e||0===e)return String(e);if(!window||!("localStorage"in window))return null;var t="__ab_experiment_identifier__";try{(e=(e=localStorage.getItem(t))&&String(e))||(e=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),localStorage.setItem(t,e))}catch(n){return null}return e}function N(e){return e||0===e?parseFloat(e):1}var A=function(e){function t(e){var n;return b(this,t),(n=k(this,x(t).call(this,e))).state={},n.state.activeVariant=n._chooseVariant(n.props,!0),n}return O(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.name,r=t.children,a=t.userIdentifier,i=t.variantName,o=e.name!==n||e.userIdentifier!==a||e.variantName!==i;(o||e.children!==r)&&this.setState({activeVariant:this._chooseVariant(e,o)})}},{key:"getActiveVariant",value:function(){return this.state.activeVariant}},{key:"getName",value:function(){return this.props.name}},{key:"getVariant",value:function(e){var t=this;return h.a.Children.toArray(this.props.children).find(function(n){return t._isVariant(n)&&n.props.name===e})}},{key:"_chooseVariant",value:function(e,t){if(e.variantName){var n=this.getVariant(e.variantName);return t&&n&&this._onChoice(e,n),n}var r=h.a.Children.toArray(e.children),a=this.state.activeVariant&&this.state.activeVariant.props.name,i=[],o=[],c=!0,l=!1,u=void 0;try{for(var s,m=r[Symbol.iterator]();!(c=(s=m.next()).done);c=!0){var p=s.value;if(this._isVariant(p)){if(!t&&a===p.props.name)return p;i.push(p),o.push(N(p.props.weight))}}}catch(y){l=!0,u=y}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}var f=_(o,j(e.userIdentifier));if(-1===f)return null;var v=i[f];return this._onChoice(e,v),v}},{key:"_isVariant",value:function(e){if(!h.a.isValidElement(e))return!1;if(!e.type.isVariant)throw new Error("Experiment children must be Variant components.");return!0}},{key:"_onChoice",value:function(e,t){e.onChoice instanceof Function&&e.onChoice(e.name,t.props.name),e.onRawChoice instanceof Function&&e.onRawChoice(this,t)}},{key:"render",value:function(){return this.state.activeVariant}}]),t}(f.Component);V(A,"propTypes",{name:y.a.string.isRequired,onChoice:y.a.func,onRawChoice:y.a.func,userIdentifier:y.a.oneOfType([y.a.string,y.a.number]),variantName:y.a.string});var R=function(e){function t(){return b(this,t),k(this,x(t).apply(this,arguments))}return O(t,e),E(t,[{key:"getName",value:function(){return this.props.name}},{key:"getWeight",value:function(){return N(this.props.weight)}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component);V(R,"propTypes",{name:y.a.string.isRequired,weight:y.a.oneOfType([y.a.string,y.a.number])}),V(R,"isVariant",!0);var B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).experiment=a.a.createRef(),n.onClick=n.onClick.bind(Object(p.a)(Object(p.a)(n))),n.onChoice=n.onChoice.bind(Object(p.a)(Object(p.a)(n))),n.onRawChoice=n.onRawChoice.bind(Object(p.a)(Object(p.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(){var e=this.experiment.current.getActiveVariant().props.name;alert('Experiment name: "'.concat(this.experiment.current.getName(),'"\n')+'Variant name: "'.concat(e,'"'))}},{key:"onChoice",value:function(e,t){console.log('Experiment name: "'.concat(e,'"\n')+'Variant name: "'.concat(t,'"'))}},{key:"onRawChoice",value:function(e,t){console.log('Experiment name: "'.concat(e.getName(),'"\n')+'Variant name: "'.concat(t.props.name,'"\n')+"Variant weight: ".concat(t.props.weight))}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"block"},a.a.createElement("h1",null,"Experiment #1"),a.a.createElement(A,{ref:this.experiment,name:"Experiment #1",onChoice:this.onChoice},a.a.createElement(R,{name:"A"},a.a.createElement("div",null,"Section A"),a.a.createElement("button",{onClick:this.onClick},"Click me")),a.a.createElement(R,{name:"B",weight:2},a.a.createElement("div",null,"Section B"),a.a.createElement("button",{onClick:this.onClick},"Click me")),a.a.createElement(R,{name:"C"},a.a.createElement("div",null,"Section C"),a.a.createElement("button",{onClick:this.onClick},"Click me")))),a.a.createElement("div",{className:"block"},a.a.createElement("h1",null,"Experiment #2"),a.a.createElement("span",null,'(userIdentifier="something")'),a.a.createElement(A,{name:"Experiment #2",userIdentifier:"something",onRawChoice:this.onRawChoice},a.a.createElement(R,{name:"A"},a.a.createElement("div",null,"Section A")),a.a.createElement(R,{name:"B",weight:2},a.a.createElement("div",null,"Section B")))),a.a.createElement("div",{className:"block"},a.a.createElement("h1",null,"Experiment #3"),a.a.createElement("span",null,'(variantName="B")'),a.a.createElement(A,{name:"Experiment #3",variantName:"B"},a.a.createElement(R,{name:"A"},a.a.createElement("div",null,"Section A")),a.a.createElement(R,{name:"B"},a.a.createElement("div",null,"Section B")))),a.a.createElement("a",{href:"https://github.com/expert-m/react-split-testing/tree/master/examples/simple",target:"_blank",rel:"noopener noreferrer",className:"link"},"GitHub"))}}]),t}(r.Component);n(20);o.a.render(a.a.createElement(B,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.6c10e890.chunk.js.map