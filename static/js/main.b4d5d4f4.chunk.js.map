{"version":3,"sources":["../../../dist/index.es.js","App.js","index.js"],"names":["index_es_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","index_es_createClass","protoProps","staticProps","prototype","createCommonjsModule","fn","module","exports","_typeof_1","_typeof2","obj","Symbol","iterator","constructor","_typeof","index_es_assertThisInitialized","self","ReferenceError","index_es_possibleConstructorReturn","call","index_es_getPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","index_es_inherits","subClass","superClass","create","value","weightedRandom","weights","randomSeed","totalWeight","random","seed","newSeed","charCodeAt","Math","pow","x","sin","floor","getRandom","_i","getIdentifier","userIdentifier","String","window","localStorage","getItem","possible","text","charAt","generateIdentifier","setItem","exception","getWeight","weight","parseFloat","index_es_Experiment","_Component","Experiment","_this","this","state","activeVariant","_chooseVariant","prevProps","_this$props","name","children","variantName","isNewExperiment","setState","_this2","node_modules_react_default","a","Children","toArray","find","element","_isVariant","_this$props2","_variant","getVariant","_onChoice","activeVariantName","variants","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","push","err","return","index","variant","isValidElement","type","isVariant","Error","_this$props3","onChoice","onRawChoice","Function","node_modules_react","prop_types_default","string","isRequired","func","oneOfType","number","Variant","apply","arguments","App","classCallCheck","possibleConstructorReturn","experiment","React","createRef","onClick","bind","assertThisInitialized","current","alert","concat","getName","getActiveVariantName","experimentName","console","log","react_default","createElement","className","ref","href","rel","Component","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.b4d5d4f4.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof2(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof2 = function _typeof2(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof2 = function _typeof2(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof2(obj);\n  }\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return _typeof2(obj);\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n});\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar assertThisInitialized = _assertThisInitialized;\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof_1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nvar possibleConstructorReturn = _possibleConstructorReturn;\nvar getPrototypeOf = createCommonjsModule(function (module) {\n  function _getPrototypeOf(o) {\n    module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  module.exports = _getPrototypeOf;\n});\nvar setPrototypeOf = createCommonjsModule(function (module) {\n  function _setPrototypeOf(o, p) {\n    module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  module.exports = _setPrototypeOf;\n});\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nvar inherits = _inherits;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\n\nfunction getRandom(seed) {\n  var newSeed = 0;\n\n  for (var i = 0; i < seed.length; i++) {\n    newSeed += seed.charCodeAt(i) * Math.pow(10, i);\n  }\n\n  var x = Math.sin(newSeed) * 10000;\n  return x - Math.floor(x);\n}\n\nfunction weightedRandom(weights, randomSeed) {\n  // randomSeed must be a string\n  if (!randomSeed) {\n    return -1;\n  }\n\n  var totalWeight = 0;\n\n  for (var i = 0; i < weights.length; i++) {\n    totalWeight += weights[i];\n  }\n\n  var random = getRandom(randomSeed) * totalWeight;\n\n  for (var _i = 0; _i < weights.length; _i++) {\n    if (random < weights[_i]) {\n      return _i;\n    }\n\n    random -= weights[_i];\n  }\n\n  return -1;\n}\n\nfunction generateIdentifier() {\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var text = '';\n\n  for (var i = 0; i < 20; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\n\nfunction getIdentifier(userIdentifier) {\n  if (userIdentifier || userIdentifier === 0) {\n    return String(userIdentifier);\n  }\n\n  if (!window || !('localStorage' in window)) {\n    return null;\n  }\n\n  var key = '__ab_experiment_identifier__';\n\n  try {\n    userIdentifier = localStorage.getItem(key);\n    userIdentifier = userIdentifier && String(userIdentifier);\n\n    if (!userIdentifier) {\n      userIdentifier = generateIdentifier();\n      localStorage.setItem(key, userIdentifier);\n    }\n  } catch (exception) {\n    return null;\n  }\n\n  return userIdentifier;\n}\n\nfunction getWeight(weight) {\n  return weight || weight === 0 ? parseFloat(weight) : 1;\n}\n\nvar Experiment =\n/*#__PURE__*/\nfunction (_Component) {\n  inherits(Experiment, _Component);\n\n  function Experiment(props) {\n    var _this;\n\n    classCallCheck(this, Experiment);\n    _this = possibleConstructorReturn(this, getPrototypeOf(Experiment).call(this, props));\n    _this.state = {};\n    _this.state.activeVariant = _this._chooseVariant(true);\n    return _this;\n  }\n\n  createClass(Experiment, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          name = _this$props.name,\n          children = _this$props.children,\n          userIdentifier = _this$props.userIdentifier,\n          variantName = _this$props.variantName;\n      var isNewExperiment = prevProps.name !== name || prevProps.userIdentifier !== userIdentifier || prevProps.variantName !== variantName;\n\n      if (!isNewExperiment && prevProps.children === children) {\n        return;\n      }\n\n      this.setState({\n        activeVariant: this._chooseVariant(prevProps, isNewExperiment)\n      });\n    }\n  }, {\n    key: \"getActiveVariant\",\n    value: function getActiveVariant() {\n      return this.state.activeVariant;\n    }\n  }, {\n    key: \"getActiveVariantName\",\n    value: function getActiveVariantName() {\n      return this.state.activeVariant && this.state.activeVariant.props.name;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return this.props.name;\n    }\n  }, {\n    key: \"getVariant\",\n    value: function getVariant(variantName) {\n      var _this2 = this;\n\n      var children = React.Children.toArray(this.props.children);\n      return children.find(function (element) {\n        return _this2._isVariant(element) && element.props.name === variantName;\n      });\n    }\n  }, {\n    key: \"_chooseVariant\",\n    value: function _chooseVariant(isNewExperiment) {\n      var _this$props2 = this.props,\n          variantName = _this$props2.variantName,\n          userIdentifier = _this$props2.userIdentifier;\n\n      if (variantName) {\n        var _variant = this.getVariant(variantName);\n\n        if (isNewExperiment && _variant) {\n          this._onChoice(_variant);\n        }\n\n        return _variant;\n      }\n\n      var children = React.Children.toArray(this.props.children);\n      var activeVariantName = this.state.activeVariant && this.state.activeVariant.props.name;\n      var variants = [],\n          weights = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var element = _step.value;\n\n          if (!this._isVariant(element)) {\n            continue;\n          }\n\n          if (!isNewExperiment && activeVariantName === element.props.name) {\n            return element;\n          }\n\n          variants.push(element);\n          weights.push(getWeight(element.props.weight));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var randomSeed = getIdentifier(userIdentifier);\n      var index = weightedRandom(weights, randomSeed);\n\n      if (index === -1) {\n        return null;\n      }\n\n      var variant = variants[index];\n\n      this._onChoice(variant);\n\n      return variant;\n    }\n  }, {\n    key: \"_isVariant\",\n    value: function _isVariant(element) {\n      if (!React.isValidElement(element)) {\n        return false;\n      }\n\n      if (!element.type.isVariant) {\n        throw new Error('Experiment children must be Variant components.');\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onChoice\",\n    value: function _onChoice(variant) {\n      var _this$props3 = this.props,\n          onChoice = _this$props3.onChoice,\n          onRawChoice = _this$props3.onRawChoice,\n          name = _this$props3.name;\n\n      if (onChoice instanceof Function) {\n        onChoice(name, variant.props.name);\n      }\n\n      if (onRawChoice instanceof Function) {\n        onRawChoice(this, variant);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.activeVariant;\n    }\n  }]);\n  return Experiment;\n}(Component);\n\ndefineProperty(Experiment, \"propTypes\", {\n  name: PropTypes.string.isRequired,\n  onChoice: PropTypes.func,\n  onRawChoice: PropTypes.func,\n  userIdentifier: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  variantName: PropTypes.string\n});\n\nvar Variant =\n/*#__PURE__*/\nfunction (_Component) {\n  inherits(Variant, _Component);\n\n  function Variant() {\n    classCallCheck(this, Variant);\n    return possibleConstructorReturn(this, getPrototypeOf(Variant).apply(this, arguments));\n  }\n\n  createClass(Variant, [{\n    key: \"getName\",\n    value: function getName() {\n      return this.props.name;\n    }\n  }, {\n    key: \"getWeight\",\n    value: function getWeight$$1() {\n      return getWeight(this.props.weight);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n  return Variant;\n}(Component);\n\ndefineProperty(Variant, \"propTypes\", {\n  name: PropTypes.string.isRequired,\n  weight: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n});\ndefineProperty(Variant, \"isVariant\", true);\nexport { Experiment, Variant };","import React, { Component } from 'react'\nimport { Experiment, Variant } from 'react-split-testing'\n\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.experiment = React.createRef()\n\n    this.onClick = this.onClick.bind(this)\n    this.onChoice = this.onChoice.bind(this)\n    this.onRawChoice = this.onRawChoice.bind(this)\n  }\n\n  onClick() {\n    const experiment = this.experiment.current\n    \n    alert(\n      `Experiment name: \"${experiment.getName()}\"\\n` +\n      `Variant name: \"${experiment.getActiveVariantName()}\"`\n    )\n  }\n\n  onChoice(experimentName, variantName) {\n    console.log(\n      `Experiment name: \"${experimentName}\"\\n` +\n      `Variant name: \"${variantName}\"`\n    )\n  }\n\n  onRawChoice(experiment, variant) {\n    console.log(\n      `Experiment name: \"${experiment.getName()}\"\\n` +\n      `Variant name: \"${variant.props.name}\"\\n` +\n      `Variant weight: ${variant.props.weight}`\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"block\">\n          <h1>Experiment #1</h1>\n          <Experiment\n            ref={this.experiment}\n            name=\"Experiment #1\"\n            onChoice={this.onChoice}\n          >\n            <Variant name=\"A\">\n              <div>Section A</div>\n              <button onClick={this.onClick}>Click me</button>\n            </Variant>\n            <Variant name=\"B\" weight={2}>\n              <div>Section B</div>\n              <button onClick={this.onClick}>Click me</button>\n            </Variant>\n            <Variant name=\"C\">\n              <div>Section C</div>\n              <button onClick={this.onClick}>Click me</button>\n            </Variant>\n          </Experiment>\n        </div>\n\n        <div className=\"block\">\n          <h1>Experiment #2</h1>\n          <span>(userIdentifier=\"something\")</span>\n          <Experiment\n            name=\"Experiment #2\"\n            userIdentifier=\"something\"\n            onRawChoice={this.onRawChoice}\n          >\n            <Variant name=\"A\">\n              <div>Section A</div>\n            </Variant>\n            <Variant name=\"B\" weight={2}>\n              <div>Section B</div>\n            </Variant>\n          </Experiment>\n        </div>\n\n        <div className=\"block\">\n          <h1>Experiment #3</h1>\n          <span>(variantName=\"B\")</span>\n          <Experiment name=\"Experiment #3\" variantName=\"B\">\n            <Variant name=\"A\">\n              <div>Section A</div>\n            </Variant>\n            <Variant name=\"B\">\n              <div>Section B</div>\n            </Variant>\n          </Experiment>\n        </div>\n\n        <a\n          href=\"https://github.com/expert-m/react-split-testing/tree/master/examples/simple\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"link\"\n        >GitHub</a>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}